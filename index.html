<html>
  <head>
    <link rel="stylesheet" href="styles.css" />
    <meta name="viewport" content="width=device-width" />
  </head>
  <body>
    <h1>Brain gym</h1>
    <div id="settings">
      <input type="radio" id="add-radio" name="operation" checked />
      <label for="add-radio">Add</label>
      <input type="radio" id="multiply-radio" name="operation" />
      <label for="multiply-radio">Multiply</label>

      <label for="task-count-select">Count</label>
      <select id="task-count-select">
        <option value="1">1</option>
        <option value="5">5</option>
        <option value="10">10</option>
      </select>
      <button onclick="start()">Start</button>
    </div>

    <div id="exercise">
      <div class="expression">
        <p id="a">a</p>
        <p id="b">b</p>
      </div>
    </div>

    <div id="answer">
      <input id="answer-input" type="number" />
      <button onclick="ok()">Ok</button>
    </div>
    <div id="result">
      <p>result</p>
    </div>

    <script>
      var a;
      var b;
      var operation;
      var taskCount;
      var wrongAnswers = [];

      function start() {
        reset();
        displayExpression();
        if (document.getElementById("add-radio").checked) {
          operation = "add";
        }
        taskCount = document.getElementById("task-count-select").value;
        console.log(taskCount);
      }

      function displayExpression() {
        document.getElementById("a").textContent = getRandomNumber();
        document.getElementById("b").textContent = getRandomNumber();
      }

      function ok() {
        var expected = 0;
        var actual = 0;
        var expression = "";
        var operator = "";
        var answerInput = document.getElementById("answer-input");

        a = parseInt(document.getElementById("a").textContent);
        b = parseInt(document.getElementById("b").textContent);
        if (operation == "add") {
          expected = a + b;
          operator = "+";
        } else {
          expected = a * b;
          operator = "*";
        }
        console.log(expected);

        actual = parseInt(answerInput.value);
        console.log(actual);

        if (actual != expected) {
          wrongAnswers.push(
            a + operator + b + "=" + actual + "; expected=" + expected
          );
        }

        console.log(wrongAnswers);
        taskCount--;
        answerInput.value = "";

        if (taskCount == 0) {
          document.getElementById("result").textContent = wrongAnswers;
          wrongAnswers = [];
        }
      }

      function reset() {
        document.getElementById("result").textContent = "result";
        document.getElementById("a").textContent = 0;
        document.getElementById("b").textContent = 0;

      }

      function getRandomNumber() {
        return Math.floor(Math.random() * 90 + 10);
      }
    </script>
  </body>
</html>
